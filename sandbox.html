<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Sandbox</title>
</head>
<body>

</body>

<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
    // QUESTION 2
    // Array-3 -- canBalance
    // Given a non-empty array, return true if there is a place to split the array so
    // that the sum of the numbers on one side is equal to the sum of the numbers on the other side.
    //1. function that takes an array as an input-- therefore, we know we are going
    // to do a for loop
    //2. output is a boolean
    //3.
    // var array = [10, 10, 5, 5, 5, 5];
    //
    //
    // function balance(nums) {
    //     var left = 0;
    //     var right;
    //     console.log("************************ 1st for loop ************************")
    //     console.log("First length - 1: " + (array.length - 1));
    //
    //     for (i = 0; i < nums.length -1; i++){
    //         console.log("==============================");
    //         console.log("index: " + i);
    //         console.log("Number being added to left num: " + nums[i]);
    //         left += nums[i];
    //         right = nums[nums.length - 1];
    //         console.log("LeftNum: " + left);
    //         console.log("RightNum: " + right);
    //     }
    //
    //     console.log("************************ 2nd for loop ************************")
    // 	console.log("2nd Length -2: " + (nums.length - 2));
    //     for (var i = nums.length - 2; i > 0; i--) {
    //         console.log("==============================");
    //         console.log("index: " + i);
    //         if (left === right) {
    //             console.log("we have a match!");
    //             console.log(left);
    //             console.log(right);
    //
    //             return true;
    //         }
    //         console.log("Number being subtracted from left num: " + nums[i]);
    //         left -= nums[i];
    //         right += nums[i];
    //         console.log("LeftNum: " + left);
    //         console.log("RightNum: " + right);
    //     }
    //     console.log(left);
    //     console.log(right);
    //     return (left === right);
    // }
    // console.log(balance(array));

    // console.log("hello");
    //
    // function last(input) {
    //     if(input instanceof String || typeof input === 'string'){
    //         console.log("we have a string");
    //         var newArr = input.split("")
    //         var newArrReverse = newArr.reverse()
    //         console.log(newArr)
    //         return newArrReverse[0];
    //     }
    //     var arr = input.reverse()
    //     return arr[0];
    // }
    //
    // console.log(last("ubuntu"));
    // console.log(last([1, 2, 3, 4]));
    // console.log(last(["JS", "is", "awesome"]));
    // console.log(last(["kiwi", "mango", "guava"]));

    //### Restaurant API

    // Using the endpoint ```https://frest.glitch.me/restaurants```,
    // //complete the following exercises:

    // jQuery Request Object
    // console.log($.ajax('https://frest.glitch.me/restaurants'));
    //

	function getRightNow(){
        return new Date();
    }

    function formatDate(today){
        var day = today.getDate()
        var month = today.getMonth() + 1
        var year = today.getFullYear()
        return month + "/" + day + "/" + year
	}

	function getDayOfTheWeekIndex(today){
        var daysOfTheWeekArray = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        var dayOfTheWeekIndex = today.getDay();
        console.log("Day of the week index: " + dayOfTheWeekIndex);

        return daysOfTheWeekArray[dayOfTheWeekIndex]
	}

    $.ajax("https://frest.glitch.me/restaurants").done(function(data){
        console.log(data[0]);
        console.log(data[0].name);
        console.log(data[0].operating_hours.Friday);

        var firstRest = data[0];

        var today = getRightNow();
        var todayFormatted = formatDate(today);
		var currentDay = getDayOfTheWeekIndex(today);

        console.log("Today is: " + today);

        var operatingHours = firstRest.operating_hours[currentDay]

        console.log("Operating hours for today: " + operatingHours);

        if( operatingHours.includes(",")){
            console.log("this has 2 separate start/end times");


        } else{
            var splitOperatingHoursArray = operatingHours.split(" - ");
            var openingTime = splitOperatingHoursArray[0]
            var closingTime = splitOperatingHoursArray[1]

            var openingDateTimeString = todayFormatted + " " + openingTime;
            var openingDateTimeObject = new Date(openingDateTimeString);

			var closingDateTimeString = todayFormatted + " " + closingTime;
            var closingDateTimeObject = new Date(closingDateTimeString);

            if(openingDateTimeObject < today && closingDateTimeObject > today){
                console.log("yay the rest is open");
            } else {
                console.log("the rest is closed!!!! wahhh!!!");
            }
        }


    });


    // 1. return an array of restaurant objects that are currently open

    // $.ajax("https://frest.glitch.me/restaurants").done(function(data) {
	//
	//
	//
    //     for (var i = 0; i < data.length; i++) {
    //     }
    //     console.log(data);
    // });

</script>

</html>